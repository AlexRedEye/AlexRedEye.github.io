:root{
  --bg:#0e0f12; --panel:#171922; --muted:#9aa0ac; --text:#e6e8ee;
  --accent:#6ee7ff; --accent2:#b388ff; --danger:#ff6b6b; --ok:#7dff9e;
  --card:#1e2230; --chip:#2a3042; --gold:#ffd46e; --gem:#89f1ff; --mat:#c0d1ff;
  --primary:#6ee7ff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(160deg,#0d0f14,#121520);}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:#11131a;border-bottom:1px solid #23283a;position:sticky;top:0;z-index:10}
.brand{color:var(--text);font-weight:700;letter-spacing:.3px}
.tabs button{background:transparent;border:0;color:var(--muted);margin:0 6px;padding:8px 10px;border-radius:8px;cursor:pointer}
.tabs button.active,.tabs button:hover{background:var(--chip);color:var(--text)}
.wallet span{margin-left:12px;color:var(--text)}
#wallet .icon{margin-right:6px}
main{max-width:1100px;margin:20px auto;padding:0 14px;color:var(--text)}
h2,h3{margin:.2rem 0 .6rem}
.tab{display:none}
.tab.active{display:block}
footer.footer{padding:20px;color:var(--muted);text-align:center;border-top:1px solid #23283a;margin-top:30px}

.banners{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.banner{background:var(--panel);border:1px solid #273048;border-radius:12px;padding:12px}
.rates{color:var(--muted);font-size:.9rem;margin:4px 0 8px}
.actions button{margin-right:6px}
.results{margin-top:8px;display:grid;grid-template-columns:repeat(5,minmax(140px,1fr));gap:8px}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}
.card{background:var(--card);border:1px solid #2a3146;border-radius:12px;padding:10px}
.card .title{font-weight:700}
.chips{margin-top:6px}
.chip{display:inline-block;background:var(--chip);color:var(--text);border-radius:999px;padding:2px 8px;margin:2px 4px;font-size:.8rem}
.r{border-left:4px solid #6ea7ff}
.sr{border-left:4px solid #b388ff}
.ssr{border-left:4px solid #ffd46e}
.tiny{font-size:.85rem;color:var(--muted)}

.inv-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px}

.picker{background:var(--panel);border:1px solid #273048;border-radius:12px;padding:10px;margin-bottom:10px}
.pick-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:8px}
.pick .select{width:100%}
.pick.selected{outline:2px solid var(--accent)}

.toprow{display:flex;gap:10px;align-items:center;justify-content:space-between}
.hidden{display:none}
.run-top{display:flex;gap:14px;align-items:flex-start;justify-content:space-between;background:var(--panel);border:1px solid #273048;border-radius:12px;padding:10px;margin-bottom:10px}
.run-actions button{margin-right:8px}
.primary{background:var(--primary);color:#001019;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
.danger{background:var(--danger);color:#200;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
button{background:#2b3247;color:var(--text);border:1px solid #3a4461;padding:8px 12px;border-radius:8px;cursor:pointer}
button:disabled{opacity:.5;cursor:not-allowed}

.run-log{background:var(--panel);border:1px solid #273048;border-radius:12px;padding:10px;min-height:160px;max-height:280px;overflow:auto}
.logline{margin:4px 0;color:#cbd5ff}
.small{color:var(--muted);font-size:.9rem}

.wallet #gold{color:var(--gold)}
.wallet #gems{color:var(--gem)}
.wallet #mats{color:var(--mat)}

/* --- Modal --- */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;padding:16px;z-index:999}
.modal-card{background:var(--panel);border:1px solid #2f3650;border-radius:16px;max-width:720px;width:100%;padding:16px}
.modal.hidden{display:none}
.summary-body{background:var(--card);border:1px solid #2a3146;border-radius:12px;padding:12px;margin-top:8px;white-space:pre-wrap;color:var(--text)}
.modal-actions{margin-top:12px;text-align:right}

/* --- Deadline meter --- */
.deadline-row{display:flex;align-items:center;gap:10px;margin-top:6px}
.meter{flex:1;height:10px;background:#1a1f2c;border:1px solid #2c3450;border-radius:999px;overflow:hidden}
.meter > span{display:block;height:100%;background:linear-gradient(90deg,#6ee7ff,#b388ff);width:100%}
