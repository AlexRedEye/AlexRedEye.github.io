<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Warehouse Clicker â€“ MVP</title>
  <link rel="stylesheet" href="styles/warehouse.css">
</head>
<body>
  <h1>ðŸ“¦ Warehouse Clicker â€“ MVP</h1>

  <!-- Tabs -->
  <nav class="tabs">
    <button id="tab-game" class="tab-button active" type="button" data-target="screen-game">Game</button>
    <button id="tab-prestige" class="tab-button" type="button" data-target="screen-prestige">Prestige</button>
    <button id="tab-contracts" class="tab-button" type="button" data-target="screen-contracts">Contracts</button>
  </nav>

  <!-- ===== GAME SCREEN ===== -->
  <main id="screen-game">
    <!-- Stats -->
    <section class="stats">
      <div class="card">
        <h2 id="box-txt">0 Boxes</h2>
        <p class="muted">In Storage</p>
      </div>
      <div class="card">
        <h2 id="total-txt">0 Total Boxes</h2>
        <p class="muted">Produced This Run</p>
      </div>
      <div class="card">
        <h2 id="muns-txt">0 Muns</h2>
        <p class="muted">Cash</p>
      </div>
      <div class="card">
        <h2>Logistics</h2>
        <p>Storage: <strong id="storage-txt">10</strong></p>
        <p>
          Trucks: <strong id="trucks-txt">1</strong>
          <span class="muted">( <span id="cap-txt">5</span> capacity each )</span>
        </p>
      </div>

      <!-- Efficiency -->
      <div class="card">
        <h2>Efficiency: <span id="eff-score" class="score-big">100</span></h2>
        <p class="muted">Last 60s â€” Produced: <span id="eff-prod">0</span>, Shipped: <span id="eff-ship">0</span>, Blocked: <span id="eff-block">0</span></p>
      </div>
    </section>

    <!-- Core actions -->
    <section>
      <h3>Actions</h3>
      <div class="row">
        <button id="production-btn" type="button">Produce Box</button>
        <button id="shipping-btn" type="button">Ship Full Trucks</button>
      </div>
      <span class="muted">Tip: You can only ship in full truckloads.</span>
    </section>

    <!-- Upgrades -->
    <section class="upgrades">
      <h3>Upgrades</h3>
      <div class="row">
        <button id="storage-upgrade" type="button">
          Upgrade Storage (+10) â€” Cost: <span id="storage-cost">50</span>
        </button>
        <button id="trucks-upgrade" type="button">
          Buy Truck (+1) â€” Cost: <span id="trucks-cost">100</span>
        </button>
      </div>
    </section>

    <!-- Automation -->
    <section class="automation">
      <h3>Automation</h3>
      <div class="row">
        <button id="worker-upgrade" type="button">
          Hire Worker (+1) â€” Cost: <span id="worker-cost">50</span>
        </button>
        <p id="worker-count">0 Workers</p>
      </div>
      <p id="worker-note" class="muted">Lv 0 (Auto: 0 boxes / 2s)</p>
    </section>

    <!-- Shipping Manager -->
    <section class="manager">
      <h3>Shipping Manager (Auto-Dispatch)</h3>
      <div class="row">
        <button id="manager-upgrade" type="button">
          Hire/Level Up â€” Cost: <span id="manager-cost">250</span>
        </button>
        <p id="manager-level">Lv 0 (Auto: 0 loads / 5s)</p>
      </div>
    </section>

    <!-- Manual Click Upgrades -->
    <section class="manual">
      <h3>Manual Click Power</h3>
      <div class="row">
        <button id="click-upgrade" type="button">
          Stronger Arms (+1 click power) â€” Cost: <span id="click-cost">30</span>
        </button>
        <p id="click-level">Lv 0 (Power: 1)</p>
      </div>
    </section>

    <!-- Crit Upgrades -->
    <section class="crit">
      <h3>Critical Clicks</h3>
      <div class="row">
        <button id="crit-upgrade" type="button">
          Increase Crit Chance (+1%) â€” Cost: <span id="crit-cost">100</span>
        </button>
        <p id="crit-chance">5% crit</p>
      </div>
    </section>

    <!-- Active Skill -->
    <section class="skill">
      <h3>Priority Pick (Active Skill)</h3>
      <div class="row">
        <button id="skill-btn" type="button">Activate (2Ã— clicks)</button>
        <span id="skill-timer" class="muted">Ready</span>
      </div>
      <div class="row">
        <button id="skill-upgrade" type="button">
          Extend Duration (+2s) â€” Cost: <span id="skill-cost">150</span>
        </button>
        <p id="skill-duration">10s duration, 60s CD</p>
      </div>
    </section>
  </main>

  <!-- ===== PRESTIGE SCREEN ===== -->
  <main id="screen-prestige" class="hidden">
    <section class="prestige">
      <div class="row">
        <h3>Reset & Prestige</h3>
        <button id="reset-btn" type="button">Reset (Earn Tokens)</button>
      </div>
      <p class="muted">
        Tokens: <strong id="tokens-txt">0</strong> &nbsp;|&nbsp;
        Next reset (estimate): <strong id="next-tokens-txt">0</strong>
      </p>

      <h3>Skill Tree</h3>

      <!-- SVG prestige tree -->
      <section id="prestige-tree" class="tree-wrap">
        <div class="tree-canvas">
          <svg id="tree-svg" viewBox="0 0 1000 1200" preserveAspectRatio="xMidYMid meet"></svg>
        </div>

        <aside class="tree-side">
          <div class="card">
            <h4 id="node-title">Select a node</h4>
            <p id="node-desc" class="muted">Click a circle to see details.</p>
            <p id="node-level" class="muted">Level: â€”</p>
            <p id="node-cost" class="muted">Cost: â€”</p>
            <button id="node-buy" type="button" disabled>Buy</button>
          </div>

          <div class="card">
            <h4>Tokens</h4>
            <p class="muted">
              Balance: <strong id="tokens-txt">0</strong><br/>
              Next reset (estimate): <strong id="next-tokens-txt">0</strong>
            </p>
          </div>

          <div class="card">
            <h4>Legend</h4>
            <p><span class="dot dot-prod"></span> Production</p>
            <p><span class="dot dot-log"></span> Logistics</p>
            <p><span class="dot dot-meta"></span> Meta</p>
          </div>
        </aside>
      </section>
    </section>
  </main>

  <!-- ===== CONTRACTS SCREEN ===== -->
  <main id="screen-contracts" class="hidden">
    <section class="contracts">
      <h3>Contracts</h3>
      <p class="muted">Deliver boxes within the time limit for a bonus payout. Shipped boxes still pay normal muns.</p>

      <div id="contract-active" class="card hidden">
        <p id="contract-desc">â€”</p>
        <div class="progress-bar">
          <div id="contract-progress"></div>
        </div>
        <div class="row" style="justify-content: space-between;">
          <p><strong id="contract-progress-text">0 / 0</strong></p>
          <p><strong id="contract-timer">0s</strong> left</p>
        </div>
        <div id="contract-status" class="muted"></div>
      </div>

      <div class="row">
        <button id="contract-generate" type="button">Generate Contract</button>
        <button id="contract-abandon" type="button" class="hidden">Abandon</button>
      </div>
    </section>
  </main>

  <!-- Toast container -->
  <div id="toast-container"></div>

  <script src="scripts/warehouse.js"></script>
</body>
</html>
